<div class="container">

  <div class="page-header text-center">
    <h1>Inclus&atilde;o de Refei&ccedil;&atilde;o</h1>
  </div>

  <form class="form" name="refeicaoForm">
    <div class="form-group">
      <input class="form-control" ng-model="ctrl.refeicao.titulo" placeholder="Nome" required type="text">
    </div>

    <div class="form-group">
        <textarea class="form-control" ng-model="ctrl.refeicao.descricao" placeholder="Descri&ccedil;&atilde;o" required
                  rows="5"></textarea>
    </div>
  </form>

  <form name="variacaoForm" ng-submit="ctrl.salvarNovaVariacao()">
    <div class="row">
      <div class="col-xs-1">
        <input class="form-control" name="peso"
               ng-model="ctrl.novaVariacao.peso" placeholder="Peso" required>
      </div>
      <div class="col-xs-1">
        <input class="form-control" name="preco"
               ng-model="ctrl.novaVariacao.preco" placeholder="Pre&ccedil;o" required>
      </div>
      <div class="col-xs-8">
        <input class="form-control" name="observacao"
               ng-model="ctrl.novaVariacao.observacao" placeholder="Observa&ccedil;&atilde;o">
      </div>
      <div class="col-xs-2">
        <button class="btn btn-success" title="Salvar" type="submit"><i class="glyphicon glyphicon-ok"></i></button>

        <button class="btn btn-warning" ng-click="ctrl.iniciarNovaVariacao()" title="Limpar" type="button"><i
          class="glyphicon glyphicon-remove"></i></button>
      </div>
    </div>
  </form>

  <table class="table table-hover">
    <thead>
    <tr>
      <th class="text-center">Peso</th>
      <th class="text-center">Pre&ccedil;o</th>
      <th class="text-center">Observa&ccedil;&atilde;o</th>
      <th class="text-center">A&ccedil;&otilde;es</th>
    </tr>
    </thead>

    <tbody ng-repeat="variacao in ctrl.refeicao.variacoes" ng-show="ctrl.refeicao.variacoes">
    <tr>
      <td>{{variacao.peso}}</td>
      <td>{{variacao.preco | currency }}</td>
      <td>{{variacao.observacao}}</td>
      <td class="text-center">
        <button class="btn btn-xs btn-warning" ng-click="ctrl.removerVariacao($index)"
                title="Remover"><i class="glyphicon  glyphicon-remove"></i></button>
      </td>
    </tr>
    </tbody>

    <tr class="warning">
      <td class="text-center" colspan="4" ng-hide="ctrl.refeicao.variacoes.length">Nenhuma variação registrada</td>
    </tr>
  </table>


  <div class="col-md-12 text-center">
    <a class="btn btn-info" href="#/cardapio/atual" title="Voltar"><i class="glyphicon glyphicon-menu-left"></i></a>
    </button>
    <button class="btn btn-success" ng-click="ctrl.postRefeicao()" title="Salvar"><i class="glyphicon glyphicon-ok"></i>
    </button>
    <button class="btn btn-warning" ng-click="ctrl.iniciarNovaRefeicao()" title="Limpar"><i
      class="glyphicon glyphicon-trash"></i>
    </button>
  </div>

</div>
